# SonarQube Local Configuration for FastFood Delivery Platform

# ========================================
# Project Identification
# ========================================
sonar.projectKey=fastfood-delivery
sonar.projectName=FastFood Delivery Platform
sonar.projectVersion=1.0.0

# SonarQube Server (Local)
sonar.host.url=http://localhost:9000

# ========================================
# Source Configuration
# ========================================
sonar.sources=auth,order,restaurant,payment-service,notification-service,admin-service,food-delivery-server
sonar.tests=tests

# Language & Encoding
sonar.language=js
sonar.sourceEncoding=UTF-8

# ========================================
# Exclusions
# ========================================
sonar.exclusions=\
  **/node_modules/**,\
  **/coverage/**,\
  **/dist/**,\
  **/build/**,\
  **/*.min.js,\
  **/tests/**,\
  **/test/**,\
  **/__tests__/**,\
  **/client-delivery-app/**,\
  **/foodapp-client/**,\
  **/food-delivery-admin/**,\
  **/food-delivery-restuarant-web/**

sonar.test.exclusions=**/node_modules/**

# ========================================
# Coverage Reports (lcov format)
# ========================================
sonar.javascript.lcov.reportPaths=\
  tests/coverage/lcov.info,\
  auth/coverage/lcov.info,\
  order/coverage/lcov.info,\
  restaurant/coverage/lcov.info,\
  payment-service/coverage/lcov.info,\
  notification-service/coverage/lcov.info,\
  admin-service/coverage/lcov.info

# ========================================
# Test Execution Reports
# ========================================
# Note: Jest JUnit format is not compatible with SonarCloud Generic Test Data
# Coverage is reported via lcov instead
# sonar.testExecutionReportPaths=tests/reports/junit.xml

# ========================================
# Quality Gate
# ========================================
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# ========================================
# Duplication Detection
# ========================================
sonar.cpd.exclusions=**/tests/**,**/*.test.js,**/*.spec.js

# ========================================
# Issue Management
# ========================================
# Ignore unused variable warnings in test files
sonar.issue.ignore.multicriteria=e1,e2
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S1481
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.js
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S1481
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.spec.js

# ========================================
# Analysis Scope
# ========================================
sonar.coverage.exclusions=\
  **/tests/**,\
  **/*.test.js,\
  **/*.spec.js,\
  **/index.js,\
  **/config/**

# ========================================
# Security Hotspots
# ========================================
sonar.security.hotspots.inheritedRules=true
